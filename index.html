// üî• [‰øÆÊ≠£Áâà] ËÆÄÂèñÈõ≤Á´ØË≥áÊñô + Êõ¥Êñ∞Ë∫´ÂàÜ + ‰øÆÊ≠£È°ØÁ§∫
    function loadUserDataFromCloud(userId) {
        console.log("üîÑ Ëá™ÂãïÂêåÊ≠•‰∏≠...");
        
        fetch(SYSTEM_CONFIG.googleScriptUrl + "?userId=" + userId)
        .then(response => response.json())
        .then(data => {
            // 1. Êõ¥Êñ∞Ë∫´ÂàÜ (Member / Guest)
            if (data.userRole) {
                currentUserRole = data.userRole;
                updateUserStatusUI(); // Êõ¥Êñ∞‰ªãÈù¢È°ØÁ§∫
            }

            // 2. Âêà‰ΩµÊâìÂç°Á¥ÄÈåÑ
            if (data.visitLogs) {
                let cloudLogs = data.visitLogs;
                let hasChange = false;
                for(let locId in cloudLogs) {
                    let localArr = visitLogs[locId] || [];
                    let cloudArr = cloudLogs[locId] || [];
                    // ÂèñËÅØÈõÜ‰∏¶ÂéªÈáç
                    let merged = [...new Set([...localArr, ...cloudArr])].sort();
                    
                    if(merged.length > localArr.length) {
                        visitLogs[locId] = merged;
                        hasChange = true;
                    }
                }
                
                // Â¶ÇÊûúÊúâÊñ∞Ë≥áÊñôÔºåÂ≠òÊ™î‰∏¶ÈáçÊñ∞Ê∏≤ÊüìÁï´Èù¢
                if (hasChange) {
                    localStorage.setItem('bingoLogs_nccu_2026', JSON.stringify(visitLogs));
                    init(); // üî• ÈÄôË£°ÊúÉÈáçÊñ∞Ë®àÁÆóÂàÜÊï∏ÔºåËß£Ê±∫È°ØÁ§∫ÁÇ∫ 0 ÁöÑÂïèÈ°å
                    console.log("‚úÖ ÂêåÊ≠•ÂÆåÊàê (ÁôºÁèæÊñ∞Ë≥áÊñô)");
                }
            }
            
            isDataLoaded = true;
            hideLoadingMask();
            document.getElementById('status-text').innerHTML = "üìç GPS ÂæÖÂëΩ";
        })
        .catch(err => {
            console.error("Cloud sync failed", err);
            isDataLoaded = true;
            hideLoadingMask();
            document.getElementById('status-text').innerHTML = "‚ö†Ô∏è Èõ¢Á∑öÊ®°Âºè";
        });
    }
